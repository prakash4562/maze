<div style="height: 100vh">
<%= link_to posts_path do %>
  <%= image_tag "photos/back.png", style: "height: 50px; padding: 5px" %>
  <% end %>

<div class="container" style="margin-top: 20px">
  <div class="row" style="margin-bottom: 30px">
    <div class="col-4 d-flex">
      <%= image_tag("icons/Vector.png") %>
      <h3 style="margin-left: 20px; margin-top: 10px;">Maze</h3>
    </div>
    <div class="col-8">
      <div>
        <%= image_tag "icons/Search.png", style: "margin-bottom:-60px; margin-left: 20px;" %>
      </div>
      <div class="form-group">
        <input style="margin-left: 10px; padding-left: 40px; border-radius: 10px" type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Search for something here...">
      </div>
    </div>
  </div>
</div>

<div class="container" style="background-color: #F5F6F8; padding: 30px; border-radius: 20px; margin-bottom: 20px;">
  <div class="box" style="background-color: white; border-radius: 15px; padding: 15px; margin-top: 10px;">
    <div class="d-flex">
      <%= image_tag "icons/Vector.png", style: "padding: 15px" %>
      <h2 style="width: 1050px"><%= @post.title %></h2>
      <div>
        <%= link_to "Edit", edit_post_path(@post), class: "btn btn-outline-primary", type: "submit", style: "border-radius: 10px; margin: 5px 10px;" %>
      </div>
      <div>
        <%= button_to "Delete", @post, method: :delete, class: "btn btn-outline-danger", type: "submit", style: "border-radius: 10px; margin: 5px 10px;" %>
      </div>
    </div>
    <div id="text" style="padding: 15px 5px;">
      <p><%=@post.content %></p>
    </div>
    <div id="comment" class="d-flex">
      <p style="margin-right: 5px;">221</p>
      <p>Likes</p>
      <p style="margin: 0 20px; font-weight: bolder">.</p>
      <p><%= pluralize @post.comments.count, "Comment"%></p>
    </div>
    <div style="margin: 0 10px"><hr></div>
    <div class="d-flex">
      <div class="d-flex">
        <i class="fa fa-heart-o" aria-hidden="true" style="padding-top: 5px; margin-left: 10px"></i>
<!--        <p style="margin-left: 20px">Like</p>-->

        <%= @post.likes.count %> Likes
        <div>
          <% like = current_user.likes.find_by(post: @post) %>
          <% if like.nil? %>
            <%= button_to likes_path, params: { like: { post_id: @post.id }}, method: :post do %>
              <strong>Like</strong>
            <% end %>
            <% else %>
            <%= button_to like_path(like), method: :delete do %>
              <strong>Unlike</strong>
            <% end %>
          <% end %>
        </div>

      </div>
      <div class="d-flex" style="margin-left: 300px;">
        <i class="fa fa-commenting-o" aria-hidden="true" style="padding-top: 5px;"></i>
        <p style="margin-left: 20px">Comments</p>
      </div>
    </div>
    <div style="margin: 0 10px 0 5px;"><hr></div>

    <%= render 'comments/form', post: @post %>
    <div style="margin-top: 30px; margin-left: 10px">Comments</div>
    <div style="margin: 10px"><hr></div>

    <% @comments.each do |comment| %>
      <div class="d-flex" style="margin-left: 10px;">
<!--        <div style="width: 1100px"><%#= comment.content  %></div>-->
        <%= render 'comments/comment', post: @post, comment: comment %>
        <div class="d-flex">
          <i class="fa fa-heart-o" aria-hidden="true" style="padding-top: 5px; margin-left: 20px"></i>
          <i class="fa fa-trash-o" aria-hidden="true" style="padding-top: 5px; margin-left: 20px"></i>
          <i class="fa fa-pencil" aria-hidden="true" style="padding-top: 5px; margin-left: 20px"></i>
        </div>
      </div>
      <div style="margin: 10px"><hr></div>
    <% end %>

  </div>
</div>
</div>